<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
<mapper namespace="com.bit.lib.book.dao.BookInterfaceDao" >
	<insert id="insertBook" parameterType="com.bit.lib.book.model.BookInfo">
		insert into book values(#{book_code},#{book_isbn},#{book_name},#{book_writer},
								#{book_publisher},1,#{book_image},#{book_price})
	</insert>
	<select id="selectAllBook" resultType="com.bit.lib.book.model.BookInfo">
		select * from book
		<where>
			<if test="option.equals('title')">
				book_name like '%#{option}%'
			</if>
			<if test="option.equals('author')">
				AND book_writer like '%#{option}%'
			</if>
		</where>
	</select>
	<update id="updateBook_exist" parameterType="com.bit.lib.book.model.BookInfo">
		 update book set book_exist= #{book_exist} where book_code=#{book_code}
	</update> 
</mapper>